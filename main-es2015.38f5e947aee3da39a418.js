(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{0:function(e,t,r){e.exports=r("zUnb")},zUnb:function(e,t,r){"use strict";r.r(t);var n=r("fXoL");var o=r("jhN1"),a=r("tyNb"),c=r("LRne"),i=r("JIr8"),s=r("lJxs"),b=r("tk/3"),l=r("dNgK"),u=r("sYmb");let m=(()=>{class e{constructor(e,t,r){this._snack=e,this._zone=t,this._translate=r}handleError(e){console.error(e),this._zone.run(()=>{this._snackBar=this._snack.open(this._translate.instant(e.message)||"Unknown error",this._translate.instant("close"),{data:e,panelClass:"error",duration:5e3})})}}return e.\u0275fac=function(t){return new(t||e)(n.Ub(l.a),n.Ub(n.z),n.Ub(u.e))},e.\u0275prov=n.Hb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const p=["en","de"];let f=(()=>{class e{constructor(e,t){this._http=e,this._error=t}register$(e){return this._http.post("registration",{guestData:e}).pipe(Object(i.a)(e=>(this._error.handleError(e),Object(c.a)(e))),Object(s.a)(({verificationCode:e})=>e))}}return e.\u0275fac=function(t){return new(t||e)(n.Ub(b.b),n.Ub(m))},e.\u0275prov=n.Hb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var d=r("/t3+"),h=r("XiUz"),g=r("jaxi"),P=r("ofXK");function v(e,t){if(1&e&&(n.Qb(0,"mat-button-toggle",7),n.tc(1),n.dc(2,"uppercase"),n.Pb()),2&e){const e=t.$implicit;n.hc("value",e),n.zb(1),n.uc(n.ec(2,2,e))}}let y=(()=>{class e{constructor(e){this._translate=e}get languages(){return p}get currentLanguage(){return this._translate.currentLang}ngOnInit(){}onLanguageChange(e){this._translate.use(e)}}return e.\u0275fac=function(t){return new(t||e)(n.Lb(u.e))},e.\u0275cmp=n.Fb({type:e,selectors:[["app-layout"]],decls:12,vars:5,consts:[[1,"mobile-center"],[1,"card"],["color","primary"],["fxFlex","","fxLayout","row","fxLayoutAlign","start center","routerLink","/"],[1,"spacer"],[3,"value","change"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(e,t){1&e&&(n.Qb(0,"div",0),n.Qb(1,"div",1),n.Qb(2,"mat-toolbar",2),n.Qb(3,"mat-toolbar-row"),n.Qb(4,"a",3),n.Qb(5,"h1"),n.tc(6),n.dc(7,"translate"),n.Pb(),n.Pb(),n.Mb(8,"span",4),n.Qb(9,"mat-button-toggle-group",5),n.Yb("change",(function(e){return t.onLanguageChange(e.value)})),n.sc(10,v,3,4,"mat-button-toggle",6),n.Pb(),n.Pb(),n.Pb(),n.Mb(11,"router-outlet"),n.Pb(),n.Pb()),2&e&&(n.zb(6),n.uc(n.ec(7,3,"Check-In / Out")),n.zb(3),n.hc("value",t.currentLanguage),n.zb(1),n.hc("ngForOf",t.languages))},directives:[d.a,d.c,a.d,h.a,h.c,h.b,g.b,P.j,a.f,g.a],pipes:[u.d,P.r],styles:["[_nghost-%COMP%]{flex-direction:column;flex:1;height:100%}[_nghost-%COMP%], main[_ngcontent-%COMP%]{display:flex}.mobile-center[_ngcontent-%COMP%], main[_ngcontent-%COMP%]{flex-direction:column}.mobile-center[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:100%}@media (min-width:600px){.mobile-center[_ngcontent-%COMP%]{height:100vh}}a[_ngcontent-%COMP%]{text-decoration:none}"],changeDetection:0}),e})();var x=r("NFeN"),w=r("bTqV");let Q=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Fb({type:e,selectors:[["app-error"]],decls:14,vars:0,consts:[["color","warn"],["fxFlex","","fxLayout","row","fxLayoutAlign","start center","routerLink","/"],[1,"content"],["fxLayout","column","fxLayoutAlign","center center"],[3,"translate"],["color","warn",1,"symbol"],["mat-raised-button","","color","warn","routerLink","/"]],template:function(e,t){1&e&&(n.Qb(0,"mat-toolbar",0),n.Qb(1,"mat-toolbar-row"),n.Qb(2,"a",1),n.Qb(3,"h1"),n.tc(4,"Check In Out - Error"),n.Pb(),n.Pb(),n.Pb(),n.Pb(),n.Qb(5,"div",2),n.Qb(6,"div",3),n.Qb(7,"h3",4),n.tc(8,"Page Not Found"),n.Pb(),n.Qb(9,"mat-icon",5),n.tc(10,"cancel"),n.Pb(),n.Mb(11,"p"),n.Qb(12,"button",6),n.tc(13,"Ok"),n.Pb(),n.Pb(),n.Pb())},directives:[d.a,d.c,a.d,h.a,h.c,h.b,u.a,x.a,w.a,a.c],styles:[""]}),e})();var O=r("3Pt+"),_=r("quSY"),k=r("XNiG"),I=r("2Vo4"),C=r("pLZG"),L=r("eIep"),N=r("vkgz"),z=r("ar4q"),M=r("4XQi"),q=r.n(M);let $=(()=>{class e{constructor(){}all(){const e=q.a.ls("iso2").map(e=>{const{name:t,code:r,dialing_code:n}=q.a.findByIso2(e);let{iso2:o}=r;return o=o.toString().toLowerCase(),{name:t,code:o,prefix:("+"!==n[0]?"+":"")+n}});return e.sort((e,t)=>e.name<t.name?-1:e.name>t.name?1:0),e}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=n.Hb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var j=r("kmnG"),F=r("d3UM"),E=r("qFsG"),S=r("bSwM"),H=r("FKr1"),U=r("H7zf");function D(e,t){if(1&e&&(n.Qb(0,"mat-option",28),n.tc(1),n.dc(2,"translate"),n.Pb()),2&e){const e=t.$implicit;n.hc("value",e),n.zb(1),n.vc("",n.ec(2,2,e)," ")}}function Y(e,t){1&e&&(n.Qb(0,"mat-error",4),n.tc(1,"First name required"),n.Pb())}function G(e,t){1&e&&(n.Qb(0,"mat-error",4),n.tc(1,"Last name required"),n.Pb())}function T(e,t){1&e&&(n.Qb(0,"mat-error",4),n.tc(1,"Zip code required"),n.Pb())}function A(e,t){1&e&&(n.Qb(0,"mat-error",4),n.tc(1,"City is required"),n.Pb())}function J(e,t){if(1&e&&(n.Qb(0,"mat-option",28),n.tc(1),n.Pb()),2&e){const e=t.$implicit;n.hc("value",e),n.zb(1),n.wc("",e.name," (",e.prefix,") ")}}function R(e,t){1&e&&(n.Qb(0,"mat-error",4),n.tc(1,"Invalid phone number "),n.Pb())}function V(e,t){1&e&&(n.Qb(0,"mat-error",4),n.tc(1,"Email is required"),n.Pb())}function W(e,t){1&e&&(n.Qb(0,"mat-error",4),n.tc(1,"Wrong email format"),n.Pb())}function X(e,t){if(1&e){const e=n.Rb();n.Qb(0,"form",3),n.Yb("ngSubmit",(function(){return n.lc(e),n.cc(2).submit$$.next()})),n.Qb(1,"h2",4),n.tc(2,"Welcome!"),n.Pb(),n.Qb(3,"h3",4),n.tc(4,"In order to check you in the event, we need a valid mobile phone number."),n.Pb(),n.Qb(5,"mat-form-field",5),n.Qb(6,"mat-select",6),n.sc(7,D,3,4,"mat-option",7),n.Pb(),n.Pb(),n.Qb(8,"mat-form-field",8),n.Qb(9,"mat-label",4),n.tc(10,"First name"),n.Pb(),n.Mb(11,"input",9),n.sc(12,Y,2,0,"mat-error",10),n.Pb(),n.Qb(13,"mat-form-field",8),n.Qb(14,"mat-label",4),n.tc(15,"Last name"),n.Pb(),n.Mb(16,"input",11),n.sc(17,G,2,0,"mat-error",10),n.Pb(),n.Qb(18,"mat-form-field",8),n.Qb(19,"mat-label",4),n.tc(20,"ZIP Code"),n.Pb(),n.Mb(21,"input",12),n.sc(22,T,2,0,"mat-error",10),n.Pb(),n.Qb(23,"mat-form-field",8),n.Qb(24,"mat-label",4),n.tc(25,"City"),n.Pb(),n.Mb(26,"input",13),n.sc(27,A,2,0,"mat-error",10),n.Pb(),n.Ob(28,14),n.Qb(29,"mat-form-field",15),n.Qb(30,"mat-select",16),n.Qb(31,"mat-select-trigger"),n.Qb(32,"span"),n.tc(33),n.dc(34,"uppercase"),n.Pb(),n.Pb(),n.sc(35,J,2,3,"mat-option",7),n.Pb(),n.Pb(),n.Qb(36,"mat-form-field",17),n.Qb(37,"mat-label",4),n.tc(38,"Phone"),n.Pb(),n.Qb(39,"mat-icon",18),n.tc(40,"phone"),n.Pb(),n.Mb(41,"input",19),n.sc(42,R,2,0,"mat-error",10),n.Pb(),n.Nb(),n.Qb(43,"mat-form-field",5),n.Qb(44,"mat-label",4),n.tc(45,"Email"),n.Pb(),n.Qb(46,"mat-icon",18),n.tc(47,"email"),n.Pb(),n.Mb(48,"input",20),n.sc(49,V,2,0,"mat-error",10),n.sc(50,W,2,0,"mat-error",10),n.Pb(),n.Qb(51,"section"),n.Qb(52,"mat-checkbox",21),n.Qb(53,"span",4),n.tc(54,"I hereby confirm the accuracy and completeness of my information"),n.Pb(),n.Pb(),n.Qb(55,"mat-checkbox",22),n.Qb(56,"span",23),n.tc(57,"*"),n.Pb(),n.Qb(58,"span",4),n.tc(59,"I hereby confirm that my data can be saved securely"),n.Pb(),n.Pb(),n.Pb(),n.Qb(60,"div",24),n.Qb(61,"button",25),n.Qb(62,"span",4),n.tc(63,"Start registration"),n.Pb(),n.Pb(),n.Pb(),n.Qb(64,"div"),n.Qb(65,"p",26),n.Qb(66,"span",23),n.tc(67,"*"),n.Pb(),n.Qb(68,"span",4),n.tc(69,"What happens to my data?"),n.Pb(),n.Pb(),n.Mb(70,"p",27),n.dc(71,"translate"),n.Pb(),n.Pb()}if(2&e){const e=n.cc(2);n.hc("formGroup",e.form),n.zb(7),n.hc("ngForOf",e.salutations),n.zb(5),n.hc("ngIf",e.form.controls.firstName.hasError("required")),n.zb(5),n.hc("ngIf",e.form.controls.lastName.hasError("required")),n.zb(5),n.hc("ngIf",e.form.controls.postalCode.hasError("required")),n.zb(5),n.hc("ngIf",e.form.controls.city.hasError("required")),n.zb(3),n.hc("compareWith",e.prefixComparer),n.zb(3),n.wc("",n.ec(34,16,e.form.get("phone").get("prefix").value.code)," (",e.form.get("phone").get("prefix").value.prefix,")"),n.zb(2),n.hc("ngForOf",e.countries),n.zb(6),n.hc("errorStateMatcher",e.matcher),n.zb(1),n.hc("ngIf",e.form.controls.phone.controls.mobilePhoneNumber.hasError("required")||e.form.controls.phone.hasError("phone")),n.zb(7),n.hc("ngIf",e.form.controls.email.hasError("required")),n.zb(1),n.hc("ngIf",e.form.controls.email.hasError("email")),n.zb(11),n.hc("disabled",e.form.invalid),n.zb(9),n.hc("innerHTML",n.ec(71,18,"WHAT_HAPPENS_DESCRIPTION"),n.mc)}}function B(e,t){if(1&e&&(n.Qb(0,"div",29),n.Qb(1,"h2",4),n.tc(2,"Here is your registration code"),n.Pb(),n.Qb(3,"h3",4),n.tc(4,"Present this code at the entrance, they will scan it and you will receive an SMS then."),n.Pb(),n.Qb(5,"div",30),n.Mb(6,"qr-code",31),n.Pb(),n.Qb(7,"div",32),n.tc(8,"Take a screenshot of this code, so if you come back to this location you don\u2019t have to register again."),n.Pb(),n.Pb()),2&e){const e=n.cc().ngIf;n.zb(6),n.hc("value",e)}}function K(e,t){if(1&e&&(n.Qb(0,"main"),n.sc(1,X,72,20,"form",1),n.sc(2,B,9,1,"div",2),n.Pb()),2&e){const e=t.ngIf;n.zb(1),n.hc("ngIf","none"===e),n.zb(1),n.hc("ngIf","none"!==e)}}class Z{isErrorState(e,t){return!!(e&&e.parent&&e.parent.invalid&&e.parent.dirty)}}let ee=(()=>{class e{constructor(e,t){this._registration=e,this._country=t,this.matcher=new Z,this._subs=new _.a,this.submit$$=new k.a,this.registered$$=new I.a("none"),this.salutations=["Mr.","Mrs."],this.countries=this._country.all()}prefixComparer(e,t){return e.code===t.code}ngOnInit(){this.form=new O.e({salutation:new O.c("Mr.",[O.p.required]),firstName:new O.c("",[O.p.required]),lastName:new O.c("",[O.p.required]),phone:new O.e({prefix:new O.c({code:"ch",name:"Switzerland",prefix:"+41"},[O.p.required]),mobilePhoneNumber:new O.c("",[O.p.required])},this.phoneValidator),postalCode:new O.c("",[O.p.required]),city:new O.c("",[O.p.required]),email:new O.c("",[O.p.required,O.p.email]),confirmAccuracy:new O.c(null,[O.p.required]),confirmSave:new O.c(null,[O.p.required])}),this._subs.add(this.submit$$.asObservable().pipe(Object(C.a)(()=>this.form.valid),Object(s.a)(()=>{let{salutation:e,firstName:t,lastName:r,postalCode:n,city:o,email:a,phone:c}=this.form.value;return{salutation:e,firstName:t,lastName:r,mobilePhoneNumber:c.prefix.prefix+c.mobilePhoneNumber,postalCode:n,city:o,email:a}}),Object(L.a)(e=>this._registration.register$(e)),Object(C.a)(e=>!(e instanceof Error)),Object(N.a)(e=>this.registered$$.next(e))).subscribe()),this._subs.add(this.registered$$.asObservable().pipe(Object(N.a)(console.log.bind(console))).subscribe())}ngOnDestroy(){this._subs.unsubscribe()}phoneValidator(e){let t={phone:!0};try{const r=e.get("prefix").value.prefix+e.get("mobilePhoneNumber").value,n=z.PhoneNumberUtil.getInstance();if("undefined"!=r){const o=n.parse(r,e.get("prefix").value.code);n.isValidNumber(o)&&(t=null)}}catch(r){}return console.log(t),t}}return e.\u0275fac=function(t){return new(t||e)(n.Lb(f),n.Lb($))},e.\u0275cmp=n.Fb({type:e,selectors:[["app-register"]],decls:2,vars:3,consts:[[4,"ngIf"],["fxLayout","row wrap","fxLayoutGap","12px",3,"formGroup","ngSubmit",4,"ngIf"],["style"," display: flex; flex-direction: column;",4,"ngIf"],["fxLayout","row wrap","fxLayoutGap","12px",3,"formGroup","ngSubmit"],[3,"translate"],["fxFlex",""],["formControlName","salutation"],[3,"value",4,"ngFor","ngForOf"],["fxFlex","calc(50% - 12px)"],["autofocus","","formControlName","firstName","matInput","","required","","type","text"],[3,"translate",4,"ngIf"],["formControlName","lastName","matInput","","required","","type","text"],["formControlName","postalCode","matInput","","required","","type","text"],["formControlName","city","matInput","","required","","type","text"],["formGroupName","phone"],["fxFlex","calc(35%-12px)"],["formControlName","prefix",3,"compareWith"],["fxFlex","calc(65%-12px)"],["matPrefix",""],["formControlName","mobilePhoneNumber","matInput","","required","","type","text",3,"errorStateMatcher"],["formControlName","email","matInput","","required","","type","text"],["formControlName","confirmAccuracy"],["formControlName","confirmSave"],[1,"nb"],[1,"full-width","actions"],["type","submit","mat-raised-button","","color","primary",1,"full-width",3,"disabled"],[1,"what-happens"],[3,"innerHTML"],[3,"value"],[2,"display","flex","flex-direction","column"],[2,"margin","0 auto"],["size","300","errorCorrectionLevel","H",3,"value"],[1,"note",3,"translate"]],template:function(e,t){1&e&&(n.sc(0,K,3,2,"main",0),n.dc(1,"async")),2&e&&n.hc("ngIf",n.ec(1,1,t.registered$$))},directives:[P.k,O.q,O.l,h.c,h.d,O.f,u.a,j.d,h.a,F.a,O.k,O.d,P.j,j.g,O.b,E.a,O.o,O.g,F.c,x.a,j.h,S.a,w.a,H.f,j.c,U.a],pipes:[P.b,P.r,u.d],styles:["div.actions[_ngcontent-%COMP%]{margin-top:24px;margin-bottom:24px}main[_ngcontent-%COMP%]{background-color:#269ee1}.nb[_ngcontent-%COMP%]{color:red;padding-right:6px}"],changeDetection:0}),e})();var te=r("jtHE");function re(e,t){if(1&e&&(n.Qb(0,"main"),n.Qb(1,"h2",1),n.tc(2,"You are ready to get in!"),n.Pb(),n.Qb(3,"h3",1),n.tc(4,"Present this QR code at the entrance to check-in."),n.Pb(),n.Qb(5,"div",2),n.Mb(6,"qr-code",3),n.Pb(),n.Qb(7,"div",4),n.tc(8,"Have fun tonight!"),n.Pb(),n.Pb()),2&e){const e=t.ngIf;n.zb(6),n.hc("value",e)}}const ne=[{path:"",component:y,children:[{path:"",component:ee},{path:"showCode",component:(()=>{class e{constructor(e,t){this._route=e,this._router=t,this._subs=new _.a,this._params$$=new te.a(1),this.params$=this._params$$.asObservable().pipe(Object(s.a)(e=>`?id=${e.get("id")}&pc=${e.get("pc")}`))}ngOnInit(){this._subs.add(this._route.queryParamMap.pipe(Object(C.a)(e=>e.has("id")&&e.has("pc")&&!!e.get("pc")&&!!e.get("id")),Object(N.a)(e=>this._params$$.next(e))).subscribe())}ngOnDestroy(){this._subs.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(n.Lb(a.a),n.Lb(a.b))},e.\u0275cmp=n.Fb({type:e,selectors:[["app-code"]],decls:2,vars:3,consts:[[4,"ngIf"],[3,"translate"],[2,"margin","0 auto"],["size","300","errorCorrectionLevel","H",3,"value"],[1,"fun",3,"translate"]],template:function(e,t){1&e&&(n.sc(0,re,9,1,"main",0),n.dc(1,"async")),2&e&&n.hc("ngIf",n.ec(1,1,t.params$))},directives:[P.k,u.a,U.a],pipes:[P.b],styles:["main[_ngcontent-%COMP%]{background-color:#ff0;color:rgba(0,0,0,.7);display:flex;flex-direction:column}.fun[_ngcontent-%COMP%]{margin-top:24px;font-size:xx-large;font-weight:bolder;color:#269ee1;text-align:center;display:inline-block;transform:skew(20deg);padding:1px;margin-right:5px;margin-left:5px;-webkit-animation:shake 2s infinite;animation:shake 2s infinite;-webkit-animation-direction:alternate;animation-direction:alternate}@-webkit-keyframes shake{0%{transform:skewY(3deg)}to{transform:skewY(-3deg)}}@keyframes shake{0%{transform:skewY(3deg)}to{transform:skewY(-3deg)}}"],changeDetection:0}),e})()},{path:"**",component:Q}]}];let oe=(()=>{class e{}return e.\u0275mod=n.Jb({type:e}),e.\u0275inj=n.Ib({factory:function(t){return new(t||e)},imports:[[a.e.forRoot(ne)],a.e]}),e})(),ae=(()=>{class e{constructor(e,t){e.addLangs(p),e.setDefaultLang(p[0]),e.currentLang="en",e.getBrowserLang().match(/de/)&&(e.currentLang="de",e.use("de").subscribe())}}return e.\u0275fac=function(t){return new(t||e)(n.Lb(u.e),n.Lb(f))},e.\u0275cmp=n.Fb({type:e,selectors:[["app-root"]],decls:1,vars:0,template:function(e,t){1&e&&n.Mb(0,"router-outlet")},directives:[a.f],encapsulation:2,changeDetection:0}),e})();var ce=r("R1ws"),ie=r("SX+u"),se=r("STbY"),be=r("YUcS");let le=(()=>{class e{}return e.\u0275mod=n.Jb({type:e}),e.\u0275inj=n.Ib({factory:function(t){return new(t||e)},imports:[[P.c,d.b,se.a,x.b,w.b,be.a,O.n,j.f,E.b,b.c,u.c],P.c,d.b,se.a,x.b,w.b,be.a,O.n,j.f,E.b,b.c,u.c]}),e})();var ue=r("z6cu");let me=(()=>{class e{constructor(){}intercept(e,t){if(!e.url.match("json")){const t=("https://idme.ch/checkinout/api//"+e.url).split("/").filter(e=>!!e).join("/").replace(/(https?:)\//,"$1//");e=e.clone({url:t})}return t.handle(e).pipe(Object(i.a)(e=>{const t=e.error.hasOwnProperty("detail")?e.error.detail:e.error.hasOwnProperty("message")?e.error.message:e.message;return Object(ue.a)(new Error(t))}))}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=n.Hb({token:e,factory:e.\u0275fac}),e})();var pe=r("mqiu");const fe=new n.q("local_storage");function de(e){return new pe.a(e,"/check-in-out-guest/assets/i18n/")}let he=(()=>{class e{}return e.\u0275mod=n.Jb({type:e,bootstrap:[ae]}),e.\u0275inj=n.Ib({factory:function(t){return new(t||e)},providers:[{provide:j.b,useValue:{floatLabel:"never",appearance:"outline"}},{provide:fe,useExisting:ie.a},{useClass:m,provide:n.m},{useClass:me,provide:b.a,multi:!0}],imports:[[o.a,oe,ce.b,le,l.b,u.c.forRoot({loader:{provide:u.b,useFactory:de,deps:[b.b]}}),F.b,S.b,U.b,g.c]]}),e})();Object(n.S)(),o.c().bootstrapModule(he).catch(e=>console.error(e))},zn8P:function(e,t){function r(e){return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}))}r.keys=function(){return[]},r.resolve=r,e.exports=r,r.id="zn8P"}},[[0,0,5]]]);