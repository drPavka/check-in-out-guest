function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{0:function(e,t,n){e.exports=n("zUnb")},zUnb:function(e,t,n){"use strict";n.r(t);var r,a,o=n("fXoL"),c=n("jhN1"),i=n("tyNb"),s=n("LRne"),u=n("JIr8"),b=n("lJxs"),l=n("tk/3"),f=n("dNgK"),m=n("sYmb"),p=((r=function(){function e(t,n,r){_classCallCheck(this,e),this._snack=t,this._zone=n,this._translate=r}return _createClass(e,[{key:"handleError",value:function(e){var t=this;console.error(e),this._zone.run((function(){t._snackBar=t._snack.open(t._translate.instant(e.message)||"Unknown error",t._translate.instant("close"),{data:e,panelClass:"error",duration:5e3})}))}}]),e}()).\u0275fac=function(e){return new(e||r)(o.Ub(f.a),o.Ub(o.z),o.Ub(m.e))},r.\u0275prov=o.Hb({token:r,factory:r.\u0275fac,providedIn:"root"}),r),d=["en","de"],h=((a=function(){function e(t,n){_classCallCheck(this,e),this._http=t,this._error=n}return _createClass(e,[{key:"register$",value:function(e){var t=this;return this._http.post("registration",{guestData:e}).pipe(Object(u.a)((function(e){return t._error.handleError(e),Object(s.a)(e)})),Object(b.a)((function(e){return e.verificationCode})))}}]),e}()).\u0275fac=function(e){return new(e||a)(o.Ub(l.b),o.Ub(p))},a.\u0275prov=o.Hb({token:a,factory:a.\u0275fac,providedIn:"root"}),a),g=n("/t3+"),v=n("XiUz"),P=n("jaxi"),y=n("ofXK");function C(e,t){if(1&e&&(o.Qb(0,"mat-button-toggle",7),o.tc(1),o.dc(2,"uppercase"),o.Pb()),2&e){var n=t.$implicit;o.hc("value",n),o.zb(1),o.uc(o.ec(2,2,n))}}var _,Q,w,x=((_=function(){function e(t){_classCallCheck(this,e),this._translate=t}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"onLanguageChange",value:function(e){this._translate.use(e)}},{key:"languages",get:function(){return d}},{key:"currentLanguage",get:function(){return this._translate.currentLang}}]),e}()).\u0275fac=function(e){return new(e||_)(o.Lb(m.e))},_.\u0275cmp=o.Fb({type:_,selectors:[["app-layout"]],decls:12,vars:5,consts:[[1,"mobile-center"],[1,"card"],["color","primary"],["fxFlex","","fxLayout","row","fxLayoutAlign","start center","routerLink","/"],[1,"spacer"],[3,"value","change"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(e,t){1&e&&(o.Qb(0,"div",0),o.Qb(1,"div",1),o.Qb(2,"mat-toolbar",2),o.Qb(3,"mat-toolbar-row"),o.Qb(4,"a",3),o.Qb(5,"h1"),o.tc(6),o.dc(7,"translate"),o.Pb(),o.Pb(),o.Mb(8,"span",4),o.Qb(9,"mat-button-toggle-group",5),o.Yb("change",(function(e){return t.onLanguageChange(e.value)})),o.sc(10,C,3,4,"mat-button-toggle",6),o.Pb(),o.Pb(),o.Pb(),o.Mb(11,"router-outlet"),o.Pb(),o.Pb()),2&e&&(o.zb(6),o.uc(o.ec(7,3,"Check-In / Out")),o.zb(3),o.hc("value",t.currentLanguage),o.zb(1),o.hc("ngForOf",t.languages))},directives:[g.a,g.c,i.d,v.a,v.c,v.b,P.b,y.j,i.f,P.a],pipes:[m.d,y.r],styles:["[_nghost-%COMP%]{flex-direction:column;flex:1;height:100%}[_nghost-%COMP%], main[_ngcontent-%COMP%]{display:flex}.mobile-center[_ngcontent-%COMP%], main[_ngcontent-%COMP%]{flex-direction:column}.mobile-center[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:100%}@media (min-width:600px){.mobile-center[_ngcontent-%COMP%]{height:100vh}}a[_ngcontent-%COMP%]{text-decoration:none}"],changeDetection:0}),_),k=n("NFeN"),O=n("bTqV"),I=((Q=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||Q)},Q.\u0275cmp=o.Fb({type:Q,selectors:[["app-error"]],decls:14,vars:0,consts:[["color","warn"],["fxFlex","","fxLayout","row","fxLayoutAlign","start center","routerLink","/"],[1,"content"],["fxLayout","column","fxLayoutAlign","center center"],[3,"translate"],["color","warn",1,"symbol"],["mat-raised-button","","color","warn","routerLink","/"]],template:function(e,t){1&e&&(o.Qb(0,"mat-toolbar",0),o.Qb(1,"mat-toolbar-row"),o.Qb(2,"a",1),o.Qb(3,"h1"),o.tc(4,"Check In Out - Error"),o.Pb(),o.Pb(),o.Pb(),o.Pb(),o.Qb(5,"div",2),o.Qb(6,"div",3),o.Qb(7,"h3",4),o.tc(8,"Page Not Found"),o.Pb(),o.Qb(9,"mat-icon",5),o.tc(10,"cancel"),o.Pb(),o.Mb(11,"p"),o.Qb(12,"button",6),o.tc(13,"Ok"),o.Pb(),o.Pb(),o.Pb())},directives:[g.a,g.c,i.d,v.a,v.c,v.b,m.a,k.a,O.a,i.c],styles:[""]}),Q),L=n("3Pt+"),M=n("quSY"),q=n("XNiG"),N=n("2Vo4"),z=n("pLZG"),j=n("eIep"),$=n("vkgz"),F=n("4XQi"),E=n.n(F),S=((w=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"all",value:function(){var e=E.a.ls("iso2").map((function(e){var t=E.a.findByIso2(e),n=t.name,r=t.code,a=t.dialing_code,o=r.iso2;return{name:n,code:o=o.toString().toLowerCase(),prefix:"+"+a}}));return e.sort((function(e,t){return e.name<t.name?-1:e.name>t.name?1:0})),e}}]),e}()).\u0275fac=function(e){return new(e||w)},w.\u0275prov=o.Hb({token:w,factory:w.\u0275fac,providedIn:"root"}),w),U=n("kmnG"),H=n("d3UM"),D=n("qFsG"),G=n("bSwM"),T=n("FKr1"),A=n("H7zf");function J(e,t){if(1&e&&(o.Qb(0,"mat-option",26),o.tc(1),o.dc(2,"translate"),o.Pb()),2&e){var n=t.$implicit;o.hc("value",n),o.zb(1),o.vc("",o.ec(2,2,n)," ")}}function R(e,t){1&e&&(o.Qb(0,"mat-error",3),o.tc(1,"First name required"),o.Pb())}function Y(e,t){1&e&&(o.Qb(0,"mat-error",3),o.tc(1,"Last name required"),o.Pb())}function X(e,t){1&e&&(o.Qb(0,"mat-error",3),o.tc(1,"Zip code required"),o.Pb())}function B(e,t){1&e&&(o.Qb(0,"mat-error",3),o.tc(1,"City is required"),o.Pb())}function K(e,t){if(1&e&&(o.Qb(0,"mat-option",26),o.tc(1),o.Pb()),2&e){var n=t.$implicit;o.hc("value",n.prefix),o.zb(1),o.wc("",n.name," (",n.prefix,")")}}function V(e,t){1&e&&(o.Qb(0,"mat-error",3),o.tc(1,"Phone is required "),o.Pb())}function W(e,t){1&e&&(o.Qb(0,"mat-error",3),o.tc(1,"Email is required"),o.Pb())}function Z(e,t){if(1&e){var n=o.Rb();o.Qb(0,"form",2),o.Yb("ngSubmit",(function(){return o.lc(n),o.cc(2).submit$$.next()})),o.Qb(1,"h2",3),o.tc(2,"Welcome!"),o.Pb(),o.Qb(3,"h3",3),o.tc(4,"In order to check you in the event, we need a valid mobile phone number."),o.Pb(),o.Qb(5,"mat-form-field",4),o.Qb(6,"mat-select",5),o.sc(7,J,3,4,"mat-option",6),o.Pb(),o.Pb(),o.Qb(8,"mat-form-field",7),o.Qb(9,"mat-label",3),o.tc(10,"First name"),o.Pb(),o.Mb(11,"input",8),o.sc(12,R,2,0,"mat-error",9),o.Pb(),o.Qb(13,"mat-form-field",7),o.Qb(14,"mat-label",3),o.tc(15,"Last name"),o.Pb(),o.Mb(16,"input",10),o.sc(17,Y,2,0,"mat-error",9),o.Pb(),o.Qb(18,"mat-form-field",7),o.Qb(19,"mat-label",3),o.tc(20,"ZIP Code"),o.Pb(),o.Mb(21,"input",11),o.sc(22,X,2,0,"mat-error",9),o.Pb(),o.Qb(23,"mat-form-field",7),o.Qb(24,"mat-label",3),o.tc(25,"City"),o.Pb(),o.Mb(26,"input",12),o.sc(27,B,2,0,"mat-error",9),o.Pb(),o.Qb(28,"mat-form-field",13),o.Qb(29,"mat-select",14),o.Qb(30,"mat-select-trigger"),o.Qb(31,"span"),o.tc(32),o.Pb(),o.Pb(),o.sc(33,K,2,3,"mat-option",6),o.Pb(),o.Pb(),o.Qb(34,"mat-form-field",15),o.Qb(35,"mat-label",3),o.tc(36,"Phone"),o.Pb(),o.Qb(37,"mat-icon",16),o.tc(38,"phone"),o.Pb(),o.Mb(39,"input",17),o.sc(40,V,2,0,"mat-error",9),o.Pb(),o.Qb(41,"mat-form-field",4),o.Qb(42,"mat-label",3),o.tc(43,"Email"),o.Pb(),o.Qb(44,"mat-icon",16),o.tc(45,"email"),o.Pb(),o.Mb(46,"input",18),o.sc(47,W,2,0,"mat-error",9),o.Pb(),o.Qb(48,"section"),o.Qb(49,"mat-checkbox",19),o.Qb(50,"span",3),o.tc(51,"I hereby confirm the accuracy and completeness of my information"),o.Pb(),o.Pb(),o.Qb(52,"mat-checkbox",20),o.Qb(53,"span",21),o.tc(54,"*"),o.Pb(),o.Qb(55,"span",3),o.tc(56,"I hereby confirm that my data can be saved securely"),o.Pb(),o.Pb(),o.Pb(),o.Qb(57,"div",22),o.Qb(58,"button",23),o.Qb(59,"span",3),o.tc(60,"Start registration"),o.Pb(),o.Pb(),o.Pb(),o.Qb(61,"div"),o.Qb(62,"p",24),o.Qb(63,"span",21),o.tc(64,"*"),o.Pb(),o.Qb(65,"span",3),o.tc(66,"What happens to my data?"),o.Pb(),o.Pb(),o.Mb(67,"p",25),o.dc(68,"translate"),o.Pb(),o.Pb()}if(2&e){var r=o.cc(2);o.hc("formGroup",r.form),o.zb(7),o.hc("ngForOf",r.salutations),o.zb(5),o.hc("ngIf",r.form.controls.firstName.hasError("required")),o.zb(5),o.hc("ngIf",r.form.controls.lastName.hasError("required")),o.zb(5),o.hc("ngIf",r.form.controls.postalCode.hasError("required")),o.zb(5),o.hc("ngIf",r.form.controls.city.hasError("required")),o.zb(5),o.uc(r.form.get("prefix").value),o.zb(1),o.hc("ngForOf",r.countries),o.zb(7),o.hc("ngIf",r.form.controls.mobilePhoneNumber.hasError("required")),o.zb(7),o.hc("ngIf",r.form.controls.email.hasError("required")),o.zb(11),o.hc("disabled",r.form.invalid),o.zb(9),o.hc("innerHTML",o.ec(68,12,"WHAT_HAPPENS_DESCRIPTION"),o.mc)}}function ee(e,t){if(1&e&&(o.Qb(0,"div"),o.Qb(1,"h2",3),o.tc(2,"Here is your registration code"),o.Pb(),o.Qb(3,"h3",3),o.tc(4,"Present this code at the entrance, they will scan it and you will receive an SMS then."),o.Pb(),o.Mb(5,"qr-code",27),o.Qb(6,"div",28),o.tc(7,"Present this code at the entrance, they will scan it and you will receive an SMS then. "),o.Pb(),o.Pb()),2&e){var n=o.cc().ngIf;o.zb(5),o.hc("value",n)}}function te(e,t){if(1&e&&(o.Qb(0,"main"),o.sc(1,Z,69,14,"form",1),o.sc(2,ee,8,1,"div",0),o.Pb()),2&e){var n=t.ngIf;o.zb(1),o.hc("ngIf","none"===n),o.zb(1),o.hc("ngIf","none"!==n)}}var ne,re=((ne=function(){function e(t,n){_classCallCheck(this,e),this._registration=t,this._country=n,this._subs=new M.a,this.submit$$=new q.a,this.registered$$=new N.a("none"),this.salutations=["Mr.","Mrs."],this.countries=this._country.all()}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.form=new L.e({salutation:new L.c("Mr.",[L.o.required]),firstName:new L.c("",[L.o.required]),lastName:new L.c("",[L.o.required]),prefix:new L.c("+41",[L.o.required]),mobilePhoneNumber:new L.c("",[L.o.required]),postalCode:new L.c("",[L.o.required]),city:new L.c("",[L.o.required]),email:new L.c("",[L.o.required,L.o.email]),confirmAccuracy:new L.c(null,[L.o.required]),confirmSave:new L.c(null,[L.o.required])}),this._subs.add(this.submit$$.asObservable().pipe(Object(z.a)((function(){return e.form.valid})),Object(b.a)((function(){var t=e.form.value,n=t.salutation,r=t.firstName,a=t.lastName,o=t.mobilePhoneNumber,c=t.postalCode,i=t.city,s=t.email;return{salutation:n,firstName:r,lastName:a,mobilePhoneNumber:o=t.prefix+o,postalCode:c,city:i,email:s}})),Object(j.a)((function(t){return e._registration.register$(t)})),Object(z.a)((function(e){return!(e instanceof Error)})),Object($.a)((function(t){return e.registered$$.next(t)}))).subscribe()),this._subs.add(this.registered$$.asObservable().pipe(Object($.a)(console.log.bind(console))).subscribe())}},{key:"ngOnDestroy",value:function(){this._subs.unsubscribe()}}]),e}()).\u0275fac=function(e){return new(e||ne)(o.Lb(h),o.Lb(S))},ne.\u0275cmp=o.Fb({type:ne,selectors:[["app-register"]],decls:2,vars:3,consts:[[4,"ngIf"],["fxLayout","row wrap","fxLayoutGap","12px",3,"formGroup","ngSubmit",4,"ngIf"],["fxLayout","row wrap","fxLayoutGap","12px",3,"formGroup","ngSubmit"],[3,"translate"],["fxFlex",""],["formControlName","salutation"],[3,"value",4,"ngFor","ngForOf"],["fxFlex","calc(50% - 12px)"],["autofocus","","formControlName","firstName","matInput","","required","","type","text"],[3,"translate",4,"ngIf"],["formControlName","lastName","matInput","","required","","type","text"],["formControlName","postalCode","matInput","","required","","type","text"],["formControlName","city","matInput","","required","","type","text"],["fxFlex","calc(30%-12px)"],["formControlName","prefix"],["fxFlex","calc(70%-12px)"],["matPrefix",""],["formControlName","mobilePhoneNumber","matInput","","required","","type","text"],["formControlName","email","matInput","","required","","type","text"],["formControlName","confirmAccuracy"],["formControlName","confirmSave"],[1,"nb"],[1,"full-width","actions"],["type","submit","mat-raised-button","","color","primary",1,"full-width",3,"disabled"],[1,"what-happens"],[3,"innerHTML"],[3,"value"],["size","275","errorCorrectionLevel","M",3,"value"],[1,"note",3,"translate"]],template:function(e,t){1&e&&(o.sc(0,te,3,2,"main",0),o.dc(1,"async")),2&e&&o.hc("ngIf",o.ec(1,1,t.registered$$))},directives:[y.k,L.p,L.k,v.c,v.d,L.f,m.a,U.d,v.a,H.a,L.j,L.d,y.j,U.g,L.b,D.a,L.n,H.c,k.a,U.h,G.a,O.a,T.f,U.c,A.a],pipes:[y.b,m.d],styles:["div.actions[_ngcontent-%COMP%]{margin-top:24px;margin-bottom:24px}main[_ngcontent-%COMP%]{background-color:#269ee1}.nb[_ngcontent-%COMP%]{color:red;padding-right:6px}"],changeDetection:0}),ne),ae=n("jtHE");function oe(e,t){if(1&e&&(o.Qb(0,"main"),o.Qb(1,"h2",1),o.tc(2,"You are ready to get in!"),o.Pb(),o.Qb(3,"h3",1),o.tc(4,"Present this QR code at the entrance to check-in."),o.Pb(),o.Mb(5,"qr-code",2),o.Qb(6,"div",1),o.tc(7,"Have fun tonight!"),o.Pb(),o.Pb()),2&e){var n=t.ngIf;o.zb(5),o.hc("value",n)}}var ce,ie,se,ue,be,le=[{path:"",component:x,children:[{path:"",component:re},{path:"showCode",component:(ce=function(){function e(t,n){_classCallCheck(this,e),this._route=t,this._router=n,this._subs=new M.a,this._params$$=new ae.a(1),this.params$=this._params$$.asObservable().pipe(Object(b.a)((function(e){return"?id=".concat(e.get("id"),"&pc=").concat(e.get("pc"))})))}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this._subs.add(this._route.queryParamMap.pipe(Object(z.a)((function(e){return e.has("id")&&e.has("pc")&&!!e.get("pc")&&!!e.get("id")})),Object($.a)((function(t){return e._params$$.next(t)}))).subscribe())}},{key:"ngOnDestroy",value:function(){this._subs.unsubscribe()}}]),e}(),ce.\u0275fac=function(e){return new(e||ce)(o.Lb(i.a),o.Lb(i.b))},ce.\u0275cmp=o.Fb({type:ce,selectors:[["app-code"]],decls:2,vars:3,consts:[[4,"ngIf"],[3,"translate"],["size","275","errorCorrectionLevel","M",3,"value"]],template:function(e,t){1&e&&(o.sc(0,oe,8,1,"main",0),o.dc(1,"async")),2&e&&o.hc("ngIf",o.ec(1,1,t.params$))},directives:[y.k,m.a,A.a],pipes:[y.b],styles:["main[_ngcontent-%COMP%]{background-color:#ff0}"],changeDetection:0}),ce)},{path:"**",component:I}]}],fe=((se=function e(){_classCallCheck(this,e)}).\u0275mod=o.Jb({type:se}),se.\u0275inj=o.Ib({factory:function(e){return new(e||se)},imports:[[i.e.forRoot(le)],i.e]}),se),me=((ie=function e(t,n){_classCallCheck(this,e),t.addLangs(d),t.setDefaultLang(d[0]),t.currentLang="en",t.getBrowserLang().match(/de/)&&(t.currentLang="de",t.use("de").subscribe())}).\u0275fac=function(e){return new(e||ie)(o.Lb(m.e),o.Lb(h))},ie.\u0275cmp=o.Fb({type:ie,selectors:[["app-root"]],decls:1,vars:0,template:function(e,t){1&e&&o.Mb(0,"router-outlet")},directives:[i.f],encapsulation:2,changeDetection:0}),ie),pe=n("R1ws"),de=n("SX+u"),he=n("STbY"),ge=n("YUcS"),ve=((ue=function e(){_classCallCheck(this,e)}).\u0275mod=o.Jb({type:ue}),ue.\u0275inj=o.Ib({factory:function(e){return new(e||ue)},imports:[[y.c,g.b,he.a,k.b,O.b,ge.a,L.m,U.f,D.b,l.c,m.c],y.c,g.b,he.a,k.b,O.b,ge.a,L.m,U.f,D.b,l.c,m.c]}),ue),Pe=n("z6cu"),ye=((be=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"intercept",value:function(e,t){if(!e.url.match("json")){var n=("https://idme.ch/checkinout/api//"+e.url).split("/").filter((function(e){return!!e})).join("/").replace(/(https?:)\//,"$1//");e=e.clone({url:n})}return t.handle(e).pipe(Object(u.a)((function(e){var t=e.error.hasOwnProperty("detail")?e.error.detail:e.error.hasOwnProperty("message")?e.error.message:e.message;return Object(Pe.a)(new Error(t))})))}}]),e}()).\u0275fac=function(e){return new(e||be)},be.\u0275prov=o.Hb({token:be,factory:be.\u0275fac}),be),Ce=n("mqiu"),_e=new o.q("local_storage");function Qe(e){return new Ce.a(e,"/check-in-out-guest/assets/i18n/")}var we,xe=((we=function e(){_classCallCheck(this,e)}).\u0275mod=o.Jb({type:we,bootstrap:[me]}),we.\u0275inj=o.Ib({factory:function(e){return new(e||we)},providers:[{provide:U.b,useValue:{floatLabel:"never",appearance:"outline"}},{provide:_e,useExisting:de.a},{useClass:p,provide:o.m},{useClass:ye,provide:l.a,multi:!0}],imports:[[c.a,fe,pe.b,ve,f.b,m.c.forRoot({loader:{provide:m.b,useFactory:Qe,deps:[l.b]}}),H.b,G.b,A.b,P.c]]}),we);Object(o.S)(),c.c().bootstrapModule(xe).catch((function(e){return console.error(e)}))},zn8P:function(e,t){function n(e){return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}))}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="zn8P"}},[[0,0,5]]]);